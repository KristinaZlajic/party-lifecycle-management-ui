<div class="card-wrapper">
  <mat-card appearance="outlined" class="task-card">
    <mat-card-header class="task-header">
      <mat-card-title class="task-title flex-row-wrap">
        <span class="title-text">
          {{ task?.name | translate : locale.language }}
        </span>
      </mat-card-title>
    </mat-card-header>

    <mat-card-content class="pt">
      <div class="flex-container">
        <div class="flex-item">
          <asee-autocomplete
            [control]="formGroup.controls['clientCategory']"
            [autocompleteList]="clientCategoryList"
            [label]="'lblClientCategory' | translate : locale.language"
            filterBehaviour="includes"
            labelProperty="description"
            valueProperty="name"
            (click)="markAsTouched('clientCategory')"
          ></asee-autocomplete>
          <error-handling
            [control]="formGroup.controls['clientCategory']"
          ></error-handling>
        </div>
        <div class="flex-item">
          <asee-datepicker
            [control]="formGroup.controls['financialDataDate']"
            (click)="markAsTouched('financialDataDate')"
            startView="month"
            [label]="'lblFinancialDataDate' | translate : locale.language"
            [max]="maxDate"
            (input)="clearDate($event)"
          >
        <ng-template>
            <asee-autocomplete
            [control]="formGroup.controls['clientCategory']"
            [autocompleteList]="clientCategoryList"
            [label]="'lblClientCategory' | translate : locale.language"
            filterBehaviour="includes"
            labelProperty="description"
            valueProperty="name"
            (click)="markAsTouched('clientCategory')"
          ></asee-autocomplete>
        </ng-template>
        </asee-datepicker>
          <error-handling
            [control]="formGroup.controls['financialDataDate']"
          ></error-handling>
        </div>
      </div>
      <div class="flex-container pt">
        <div class="flex-item">
          <asee-autocomplete
            [control]="formGroup.controls['currency']"
            [autocompleteList]="currencyList"
            [label]="'lblCurrency' | translate : locale.language"
            filterBehaviour="includes"
            labelProperty="formatted-name"
            valueProperty="currency-code"
            (click)="markAsTouched('currency')"
          ></asee-autocomplete>
          <error-handling
            [control]="formGroup.controls['currency']"
          ></error-handling>
        </div>
        <div class="flex-item">
          <asee-decimal-input
            [control]="formGroup.controls['grossIncome']"
            [label]="'lblGrossIncome' | translate : locale.language"
            [suffix]="chosenCurrency"
          >
          </asee-decimal-input>
          <error-handling
            [control]="formGroup.controls['grossIncome']"
          ></error-handling>
        </div>
      </div>
      <div class="flex-container pt">
        <div class="flex-item">
          <asee-text-input
            [control]="formGroup.controls['financialDataChangeOperator']"
            [label]="
              'lblFinancialDataChangeOperator' | translate : locale.language
            "
          >
          </asee-text-input>
          <error-handling
            [control]="formGroup.controls['financialDataChangeOperator']"
          ></error-handling>
        </div>
        <div class="flex-item">
            <asee-decimal-input
              [control]="formGroup.controls['netIncome']"
              [label]="'lblNetIncome' | translate : locale.language"
              [suffix]="chosenCurrency"
            >
            </asee-decimal-input>
            <error-handling
              [control]="formGroup.controls['netIncome']"
            ></error-handling>
          </div>
      </div>
      <div class="flex-container pt">
        <div class="flex-item">
          <asee-text-input
            [control]="formGroup.controls['financialDataModificationTime']"
            [label]="
              'lblFinancialDataModificationTime' | translate : locale.language
            "
          >
          </asee-text-input>
          <error-handling
            [control]="formGroup.controls['financialDataModificationTime']"
          ></error-handling>
        </div>
        <div class="flex-item"></div>
      </div>
    </mat-card-content>
    <div class="bottom-end-alignment">
      <customer-actions
        [currentTask]="task"
        submitButtonName="Complete"
        [formGroup]="formGroup"
      >
      </customer-actions>
    </div>
  </mat-card>
</div>
